(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var s=n(5),c=n.n(s),r=n(6),o=n(7),a=n(10),i=n(8),u=n(1),l=n.n(u),d=(n(15),n(16),n(17),n(0)),h=function(e){var t=e.todo,n=e.showUser,s=e.selectedUserId;return Object(d.jsxs)("div",{className:"TodoList",children:[Object(d.jsx)("h2",{children:"Todos:"}),Object(d.jsx)("div",{className:"TodoList__list-container",children:Object(d.jsx)("ul",{className:"TodoList__list",children:t.map((function(e){var t=e.id,c=e.title,r=e.completed,o=e.userId;return Object(d.jsxs)("li",{className:"TodoList__item \n            ".concat(r?"TodoList__item--checked":"TodoList__item--unchecked","\n            "),children:[Object(d.jsxs)("label",{htmlFor:"qwe",children:[Object(d.jsx)("input",{type:"checkbox",checked:r,readOnly:!0}),Object(d.jsx)("p",{children:c})]}),Object(d.jsxs)("button",{onClick:function(){n(o)},className:"\n                TodoList__user-button\n                ".concat(s===o?"TodoList__user-button--selected":"","\n                button\n              "),type:"button",children:["User\xa0",o]})]},t)}))})})]})},j=n(9),f=(n(19),n(2)),p=n.n(f),b=n(4),m="https://mate.academy/students-api";function O(){return(O=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(m,"/todos")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(m,"/users/").concat(t)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=l.a.memo((function(e){var t=e.user,n=e.clearUser,s=Object(u.useState)(),c=Object(j.a)(s,2),r=c[0],o=c[1];return Object(u.useEffect)((function(){(function(e){return x.apply(this,arguments)})(t).then((function(e){return o(e)}))}),[t]),Object(d.jsxs)("div",{className:"CurrentUser",children:[Object(d.jsx)("h2",{className:"CurrentUser__title",children:Object(d.jsxs)("span",{children:["Selected user:"," ",null===r||void 0===r?void 0:r.id]})}),Object(d.jsx)("h3",{className:"CurrentUser__name",children:null===r||void 0===r?void 0:r.name}),Object(d.jsx)("p",{className:"CurrentUser__email",children:null===r||void 0===r?void 0:r.email}),Object(d.jsx)("p",{className:"CurrentUser__phone",children:null===r||void 0===r?void 0:r.phone}),Object(d.jsx)("button",{type:"button",onClick:n,children:"Clear user"})]})})),_=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={todos:[],selectedUserId:null,search:[],status:null},e.showUser=function(t){e.setState({selectedUserId:t})},e.clearUser=function(){e.setState({selectedUserId:null})},e.search=function(t){null!==e.state.status?e.setState((function(e){return{search:e.todos.filter((function(n){return n.title.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1&&n.completed===e.status}))}})):e.setState((function(e){return{search:e.todos.filter((function(e){return e.title.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}))}}))},e.todoStatus=function(t){"Done"===t&&e.setState((function(e){return{search:e.todos.filter((function(e){return e.completed})),status:!0}})),"Todo"===t&&e.setState((function(e){return{search:e.todos.filter((function(e){return!e.completed})),status:!1}})),"All"===t&&e.setState((function(e){return{search:e.todos,status:null}}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(){return O.apply(this,arguments)})().then((function(t){e.setState({todos:t,search:t})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedUserId,s=t.search;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{className:"App__sidebar",children:[Object(d.jsx)("input",{type:"text",onChange:function(t){e.search(null===t||void 0===t?void 0:t.target.value)}}),Object(d.jsxs)("select",{name:"all",onChange:function(t){e.todoStatus(t.target.value)},children:[Object(d.jsx)("option",{defaultValue:"all",children:"All"}),Object(d.jsx)("option",{defaultValue:"true",children:"Done"}),Object(d.jsx)("option",{defaultValue:"false",children:"Todo"})]}),Object(d.jsx)(h,{todo:s,selectedUserId:n,showUser:function(t){e.showUser(t)}})]}),Object(d.jsx)("div",{className:"App__content",children:Object(d.jsx)("div",{className:"App__content-container",children:n?Object(d.jsx)(v,{user:n,clearUser:this.clearUser}):"No user selected"})})]})}}]),n}(l.a.Component),U=_;c.a.render(Object(d.jsx)(U,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.911d033c.chunk.js.map